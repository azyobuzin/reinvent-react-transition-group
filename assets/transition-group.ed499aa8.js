import{r as l,j as o,b as C,c as f,a as p,T as y}from"./Transition.b5b22e4f.js";const k=({children:e})=>{const[t,i]=l.exports.useState(!0);l.exports.useEffect(()=>i(!1),[]);const c=l.exports.useMemo(()=>({isMounting:t}),[t]);let[d,a]=l.exports.useState([]);const[u,n]=l.exports.useState();if(u!==e){const r=(e==null?[]:Array.isArray(e)?e:[e]).filter(s=>l.exports.isValidElement(s)&&s.key!=null);d=A(d,r,s=>{a(m=>m.filter(x=>x.key!==s))}),n(e),a(d)}return o(C.Provider,{value:c,children:d})};function A(e,t,i){const c=new Set(e.map(r=>r.key)),d=new Set(t.map(r=>r.key)),a=[];let u=0,n=0;for(;u<e.length||n<t.length;){if(u<e.length){const h=e[u];if(!d.has(h.key)){const s=h.key,m=()=>i(s);a.push(l.exports.cloneElement(h,{in:!1,onExited:m})),u++;continue}}const r=t[n];a.push(l.exports.cloneElement(r,{in:!0})),c.has(r.key)&&u++,n++}return a}const I=({name:e,state:t,onDelete:i})=>p("li",{children:[`(${t}) ${e} `,o("button",{onClick:i,children:"Delete"})]}),D=()=>{const[{itemCounter:e,items:t},i]=l.exports.useState({itemCounter:2,items:["Item 1"]}),c=n=>i({itemCounter:e+1,items:n});return p("div",{children:[p("p",{children:[o("button",{onClick:()=>{c([`Item ${e}`,...t])},children:"\u5148\u982D\u306B\u8FFD\u52A0"}),o("button",{onClick:()=>{const n=Math.floor(t.length/2);c([...t.slice(0,n),`Item ${e}`,...t.slice(n)])},children:"\u4E2D\u592E\u306B\u8FFD\u52A0"}),o("button",{onClick:()=>{c([...t,`Item ${e}`])},children:"\u672B\u5C3E\u306B\u8FFD\u52A0"})]}),o("ul",{children:o(k,{children:t.map((n,r)=>{const h=()=>{const s=[...t];s.splice(r,1),i({itemCounter:e,items:s})};return o(y,{timeout:1e3,children:s=>o(I,{name:n,state:s,onDelete:h})},n)})})})]})};f(document.getElementById("root")).render(o(l.exports.StrictMode,{children:o(D,{})}));
