import{r as s,j as c,F as x}from"./jsx-runtime.04992bd5.js";const f=s.exports.createContext(null),g=t=>{var a,o,l;const u=(a=t.in)!=null?a:!1,d=((o=s.exports.useContext(f))==null?void 0:o.isMounting)===!1,[e,r]=s.exports.useState({status:u&&!d?"entered":"exited",emitted:!0}),n=u&&e.status.includes("exit")?"entering":!u&&e.status.includes("enter")?"exiting":null;return s.exports.useLayoutEffect(()=>{if(n==null)return;e.timeoutID!=null&&clearTimeout(e.timeoutID);const i=n==="entering"?t.onEnter:t.onExit;i&&i(),r({status:n,emitted:!1,timeoutID:setTimeout(()=>r({status:n==="entering"?"entered":"exited",emitted:!1}),t.timeout)})},[e,u]),s.exports.useEffect(()=>{if(e.emitted||n)return;const i={entering:t.onEntering,entered:t.onEntered,exiting:t.onExiting,exited:t.onExited}[e.status];i&&i(),r({...e,emitted:!0})},[e,n]),c(x,{children:(l=typeof t.children=="function"?t.children(e.status):t.children)!=null?l:null})};export{g as T,f as a};
