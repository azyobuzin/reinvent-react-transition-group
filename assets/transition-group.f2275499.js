import{r as o,j as r,c as C,a as p}from"./jsx-runtime.04992bd5.js";import{a as f,T as k}from"./Transition.df302226.js";const y=({children:t})=>{const[e,i]=o.exports.useState(!0);o.exports.useEffect(()=>i(!1),[]);const u=o.exports.useMemo(()=>({isMounting:e}),[e]);let[d,a]=o.exports.useState([]);const[c,n]=o.exports.useState();if(c!==t){const l=o.exports.Children.toArray(t).filter(s=>o.exports.isValidElement(s)&&s.key!=null);d=A(d,l,s=>{a(m=>m.filter(x=>x.key!==s))}),n(t),a(d)}return r(f.Provider,{value:u,children:d})};function A(t,e,i){const u=new Set(t.map(l=>l.key)),d=new Set(e.map(l=>l.key)),a=[];let c=0,n=0;for(;c<t.length||n<e.length;){if(c<t.length){const h=t[c];if(!d.has(h.key)){const s=h.key,m=()=>i(s);a.push(o.exports.cloneElement(h,{in:!1,onExited:m})),c++;continue}}const l=e[n];a.push(o.exports.cloneElement(l,{in:!0})),u.has(l.key)&&c++,n++}return a}const I=({name:t,state:e,onDelete:i})=>p("li",{children:[`(${e}) ${t} `,e.includes("enter")&&r("button",{onClick:i,children:"Delete"})]}),S=()=>{const[{itemCounter:t,items:e},i]=o.exports.useState({itemCounter:2,items:["Item 1"]}),u=n=>i({itemCounter:t+1,items:n});return p("div",{children:[p("p",{children:[r("button",{onClick:()=>{u([`Item ${t}`,...e])},children:"\u5148\u982D\u306B\u8FFD\u52A0"}),r("button",{onClick:()=>{const n=Math.floor(e.length/2);u([...e.slice(0,n),`Item ${t}`,...e.slice(n)])},children:"\u4E2D\u592E\u306B\u8FFD\u52A0"}),r("button",{onClick:()=>{u([...e,`Item ${t}`])},children:"\u672B\u5C3E\u306B\u8FFD\u52A0"})]}),r("ul",{children:r(y,{children:e.map((n,l)=>{const h=()=>{const s=[...e];s.splice(l,1),i({itemCounter:t,items:s})};return r(k,{timeout:1e3,children:s=>r(I,{name:n,state:s,onDelete:h})},n)})})})]})};C(document.getElementById("root")).render(r(o.exports.StrictMode,{children:r(S,{})}));
